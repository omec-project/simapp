# SPDX-FileCopyrightText: 2021 Open Networking Foundation <info@opennetworking.org>
#
# SPDX-License-Identifier: Apache-2.0
# SPDX-License-Identifier: LicenseRef-ONF-Member-Only-1.0

configuration:
  info:
    description: SIMAPP initial local configuration
    version: 1.0.0
  logger:
    APP:
      ReportCaller: false
      debugLevel: info
  subscribers:
  - ueId-start: 123456789123458
    ueId-end: 123456789123458
    plmnId: 20893
    opc: 8e27b6af0e692e750f32667a3b14605d
    op: ""
    key: 8baf473f2f8fd09487cccbd7097c6862
    sequenceNumber: 16f3b3f70fc2
  - ueId-start: 123456789123460
    ueId-end: 123456789123465
    plmnId: 222222
    opc: 22222222222222222222222222222222
    op: ""
    key: 22222222222222222222222222222222
    sequenceNumber: 222222222
  provision-network-slice: false
  sub-provision-endpt:
    addr: webui #should be webui for 5G and config4g for 4G
    port: 5000
  device-groups:
  - name:  "iot-camera"
    imsis:
      - "123456789123456"
      - "123456789123457"
    ip-domain-name: "pool1"
    ip-domain-expanded:
      dnn: internet
      dns-primary: 8.8.8.8
      dns-secondary: 8.8.4.4
      mtu: 1460
      ue-ip-pool: 10.91.0.0/16
      ue-dnn-qos:
        dnn-mbr-downlink: 20000000
        dnn-mbr-uplink: 4000000
        traffic-class:  #default bearer QCI/ARP
          name: "platinum"
          qci: 9
          arp: 6
          pdb: 300
          pelr: 6
    site-info: "menlo"
  network-slices:
  - name: "slice1"
    slice-id:
      sd: 65565
      sst: 255
    site-device-group: 
    - "iot-camera"
    application-filtering-rules:
    - rule-name: rule1
      priority: 25
      action: "permit"
      endpoint: 0.0.0.0/0
      app-mbr-uplink:   100000  #100kbps
      app-mbr-downlink: 2000000 #2Mbps
      traffic-qos-class : "silver" #if same as APN-AMBR then its default bearer rule
    - rule-name: rule2
      priority: 15
      action: "permit"
      endpoint: 8.8.8.8/32
      app-mbr-uplink: 1000000   #1Mbps
      app-mbr-downlink: 4000000 #5Mbps
      traffic-class : #if same as APN-AMBR then its default bearer rule
        name: "silver"
        qci: 9
        arp: 6
        pdb: 300
        pelr: 6
    - rule-name: rule3
      priority: 25
      action: "permit"
      endpoint: 8.8.8.4/32
      app-mbr-uplink: 120000
      app-mbr-downlink: 520000
      traffic-class : #this will create new bearer if QCI/ARP combination is different than default QCI/ARP
        name: "platinum"
        qci: 9
        arp: 6
        pdb: 300
        pelr: 6
      rule-trigger: api  #dont create this bearer immediately. Wait for API call 
    - rule-name: rule4
      priority: 35
      action: "permit"
      endpoint: 1.1.1.1/32
      app-mbr-uplink: 120000
      app-mbr-downlink: 520000
      traffic-class : #this will create new bearer if QCI/ARP combination is different than default QCI/ARP
        name: "gold"
        qci: 9
        arp: 6
        pdb: 300
        pelr: 6
      rule-trigger: "timer,10"  #dont create this bearer immediately. Create after 10 sec time.
    - rule-name: rule5
      priority: 45
      action: "permit"
      endpoint: 1.1.1.2/32
      app-mbr-uplink: 120000
      app-mbr-downlink: 520000
      traffic-class : #this will create new bearer if QCI/ARP combination is different than default QCI/ARP
        name: "diamond"
        qci: 9
        arp: 6
        pdb: 300
        pelr: 6
      rule-trigger: "timer,0"  #immeidate creation of this bearer immediately. Create after 10 sec time.
    qos:
      uplink: 2000000   #2Mbps
      downlink: 5000000 #5Mbps
      traffic-qos-class: "silver" #default bearer QCI/ARP
    site-info:
      gNodeBs:
      - name: menlo-gnb1
        tac: 1
      plmn:
        mcc: "315"
        mnc: "010"
      site-name: menlo
      upf:
        upf-name: upf.menlo.aetherproject.org
        upf-port: 8805
